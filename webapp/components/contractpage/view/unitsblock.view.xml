<mvc:View xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core"
	controllerName="refx.leaseuix.components.contractpage.controller.unitsblock"
	xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m">
	<HBox class="customCSS sapUiSmallMargin">
		<VBox class="sapUiSmallMarginEnd">
			<FlexBox alignItems="End" direction="Column" width="6rem">
				<Label text="{ path: 'viewData>/TotalSize', formatter: '.formatter.NumberFormat'}" class="sapMNCLargeFontSize green"></Label>
				<Label text="{viewData>/SizeUnit}, Total Size"></Label>
				<!--<Label text="{= ${viewData>/TotalUnits} > 0 ? ${/TotalUnits} : 0 }" class="sapMNCLargeFontSize sapUiSmallMarginTop"></Label>-->
				<Label text="{viewData>/TotalUnits}" class="sapMNCLargeFontSize sapUiSmallMarginTop"></Label>
				<Label text="Total Units"></Label>
			</FlexBox>
		</VBox>
		<List id="units" items="{ path: 'RentalUnitSet', sorter: { path: 'UnitText', descending: false} , events: { dataReceived: '.onUpdateFinish' } }" width="400px" mode="None">
			<items>
				<CustomListItem>
					<HBox>
						<core:Icon size="2rem" src="sap-icon://building" class="sapUiSmallMarginBegin sapUiSmallMarginTop"/>
						<VBox class="sapUiSmallMarginBegin sapUiSmallMarginTop" width="50%">
							<Link text="{UnitText}" target="{UnitPicUrl}" press="handlePress"/>
							<ObjectStatus class="sapUiSmallMarginBottom" text="{= ${Available} ? 'Available' : 'Occupied' }"
								icon="{= ${Available} ? '' : 'sap-icon://alert' }" state="{= ${Available} ? 'Success': 'Error' }"/>
						</VBox>
						<FlexBox alignItems="End" direction="Column" width="80%" class="sapUiSmallMargin">
							<Label text="{ path: 'UnitSize',type: 'sap.ui.model.type.Float',formatOptions: {minFractionDigits: 2,maxFractionDigits: 2,groupingEnabled: true} }"></Label>
							<Label text="{SizeUnit}" class="sapMObjectNumberUnit"></Label>
						</FlexBox>
					</HBox>
				</CustomListItem>
			</items>
			<headerToolbar>
				<OverflowToolbar>
					<Title text="{i18n>RentalUnit}" level="H2"/>
				</OverflowToolbar>
			</headerToolbar>
		</List>
	</HBox>
</mvc:View>